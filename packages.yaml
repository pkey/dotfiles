# Package definitions for macOS (brew) and Linux (apt).
# Read by install-packages.sh â€” see README.md for full format reference.
#
# Quick examples:
#   - tmux                              # same name on both OS
#   - name: fd                          # different apt name
#     apt: fd-find
#   - name: zoxide                      # not in apt, use script
#     apt: false
#     script: curl -sS ... | bash

common:
  - zsh
  - name: python
    apt: python3 python3-pip python3-venv
  - wget
  - name: fd
    apt: fd-find
    post_apt: ln -sf "$(command -v fdfind)" "$HOME/.local/bin/fd"
  - fzf
  - name: zoxide
    apt: false
    script: curl -sS https://raw.githubusercontent.com/ajeetdsouza/zoxide/main/install.sh | bash
  - ripgrep
  - name: bat
    apt: bat
    post_apt: ln -sf "$(command -v batcat)" "$HOME/.local/bin/bat"
  - neovim
  - tmux
  - jq
  - yq
  - unzip  # required by fnm installer
  - name: fnm
    apt: false
    script: curl -fsSL https://fnm.vercel.app/install | bash -s -- --skip-shell
  - pipx
  - gnupg
  - name: build-essential
    brew: gcc
  - curl
  - git-lfs
  - shellcheck

full:
  - name: gh
    apt_setup: |
      curl -fsSL https://cli.github.com/packages/githubcli-archive-keyring.gpg | sudo dd of=/usr/share/keyrings/githubcli-archive-keyring.gpg
      echo "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/githubcli-archive-keyring.gpg] https://cli.github.com/packages stable main" | sudo tee /etc/apt/sources.list.d/github-cli.list
  - sqlite3
  - nmap
  - direnv
  - name: pre-commit
    apt: false
    script: pipx install pre-commit
  - name: glab
    apt_setup: |
      curl -fsSL https://gitlab.com/gitlab-org/cli/-/raw/main/scripts/install.sh | sudo bash
  - name: docker
    brew: false
    apt: false
    script: command -v docker >/dev/null || (curl -fsSL https://get.docker.com -o /tmp/get-docker.sh && sudo sh /tmp/get-docker.sh && rm /tmp/get-docker.sh && sudo usermod -aG docker "$USER" && newgrp docker)

macos_only:
  - pinentry-mac

macos_casks:
  - 1password-cli
  - cursor
  - ghostty
  - gcloud-cli
  - codex
  - orbstack
